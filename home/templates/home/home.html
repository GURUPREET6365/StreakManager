{% extends "main.html" %}

{% block title %}QuickPrep: Revision{% endblock title %}

{% block content %}

<!-- Messages -->
{% if messages %}
<div class="container-fluid px-4 mt-3">
  {% for message in messages %}
  <div class="alert alert-{{ message.tags|default:'info' }} alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
  </div>
  {% endfor %}
</div>
{% endif %}

{% if user.is_authenticated %}

<!-- Dashboard Hero Section -->
<section class="hero-section">
  <div class="hero-content">
    <h1 class="hero-title">Welcome, <span style="color: #22c55e;">{{ user.first_name|default:user.username }}</span>!</h1>
    <p class="hero-subtitle">Start your learning journey with AI-powered practice and personalized revision.</p>
  </div>
</section>

<!-- Main Dashboard Content -->
<section class="features-section container-fluid">
  <div class="container">
    
    <!-- Dashboard Overview Cards -->
    <div class="row g-4 mb-5">
      <div class="col-md-4">
        <div class="feature-card">
          <h4><i class="bi bi-journal-text"></i> Manage Notes</h4>
          <p>Keep all your study notes organized. Access them anytime, anywhere on any device.</p>
          <a href="#notes" class="btn btn-sm btn-outline-light mt-3" style="color: #38bdf8; border-color: #38bdf8;">
            <i class="bi bi-arrow-right"></i> Go to Notes
          </a>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card">
          <h4><i class="bi bi-cpu"></i> AI Practice</h4>
          <p>Smart AI generates practice questions from your notes to boost retention and understanding.</p>
          <a href="#ai-practice" class="btn btn-sm btn-outline-light mt-3" style="color: #38bdf8; border-color: #38bdf8;">
            <i class="bi bi-arrow-right"></i> Practice Now
          </a>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card">
          <h4><i class="bi bi-clock-history"></i> AI Revision</h4>
          <p>Get revision reminders and auto-generated summaries to reinforce your learning effectively.</p>
          <a href="#ai-revision" class="btn btn-sm btn-outline-light mt-3" style="color: #38bdf8; border-color: #38bdf8;">
            <i class="bi bi-arrow-right"></i> Start Revision
          </a>
        </div>
      </div>
    </div>

    <!-- Quick Stats Section -->
    <div class="row g-4 mt-4">
      <div class="col-md-6 col-lg-3">
        <div class="feature-card text-center">
          <h5 style="color: #38bdf8; font-size: 2.5rem; font-weight: 700;">0</h5>
          <p class="mb-0">Notes Created</p>
        </div>
      </div>
      <div class="col-md-6 col-lg-3">
        <div class="feature-card text-center">
          <h5 style="color: #38bdf8; font-size: 2.5rem; font-weight: 700;">0</h5>
          <p class="mb-0">Questions Solved</p>
        </div>
      </div>
      <div class="col-md-6 col-lg-3">
        <div class="feature-card text-center">
          <h5 style="color: #38bdf8; font-size: 2.5rem; font-weight: 700;">0</h5>
          <p class="mb-0">Topics Revised</p>
        </div>
      </div>
      <div class="col-md-6 col-lg-3">
        <div class="feature-card text-center">
          <h5 style="color: #38bdf8; font-size: 2.5rem; font-weight: 700;">0%</h5>
          <p class="mb-0">Accuracy Rate</p>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- Call to Action -->
<section style="padding: 3rem 2rem; text-align: center;">
  <div class="container">
    <h2 style="color: #38bdf8; font-size: 2rem; font-weight: 700; margin-bottom: 1rem;">Ready to Excel?</h2>
    <p style="color: #94a3b8; font-size: 1.1rem; margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto;">
      Create your first note and unlock AI-powered learning to accelerate your preparation.
    </p>
    <a href="#create-note" class="btn btn-info-custom btn-lg">
      <i class="bi bi-plus-circle me-2"></i> Create New Note
    </a>
  </div>
</section>

{% else %}

<!-- Hero Section for Non-Authenticated Users -->
<section class="hero-section">
  <div class="hero-content">
    <h1 class="hero-title">QuickPrep: <span style="text-transform: uppercase; color: #22c55e;">Revision</span></h1>
    <p class="hero-subtitle">Manage your notes effortlessly, get AI-powered practice, and stay ahead with a personalized revision plan.</p>
    <div class="hero-buttons">
      <a href="{% url 'login' %}" class="btn btn-outline-light btn-lg">
        <i class="bi bi-box-arrow-in-right me-2"></i> Sign In
      </a>
      <a href="{% url 'register' %}" class="btn btn-outline-light btn-lg">
        <i class="bi bi-box-arrow-in-right me-2"></i> Sign Up
      </a>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="features-section container-fluid">
  <div class="container">
    <div class="section-title">
      <h2>Powerful Features for Smart Learning</h2>
      <p style="color: #94a3b8; margin-top: 1rem;">Everything you need to master your studies</p>
    </div>
    <div class="row g-4">
      <div class="col-md-4">
        <div class="feature-card">
          <h4><i class="bi bi-journal-text"></i> Manage Notes</h4>
          <p>Keep all your study notes organized in one place. Access them anytime, anywhere.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card">
          <h4><i class="bi bi-cpu"></i> AI Practice</h4>
          <p>Smart AI generates practice questions from your notes to boost retention.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card">
          <h4><i class="bi bi-clock-history"></i> AI Revision</h4>
          <p>Get revision reminders and auto-generated summaries to reinforce your learning.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Additional Features -->
<section style="padding: 4rem 2rem; background: rgba(30, 41, 59, 0.5);">
  <div class="container">
    <div class="row g-4 align-items-center">
      <div class="col-md-6">
        <h2 style="color: #38bdf8; font-weight: 700; margin-bottom: 1.5rem;">Why Choose QuickPrep?</h2>
        <ul style="list-style: none; padding: 0;">
          <li class="mb-3" style="color: #cbd5e1;">
            <i class="bi bi-check-circle" style="color: #22c55e; margin-right: 0.5rem;"></i>
            AI-powered question generation from your notes
          </li>
          <li class="mb-3" style="color: #cbd5e1;">
            <i class="bi bi-check-circle" style="color: #22c55e; margin-right: 0.5rem;"></i>
            Personalized revision schedule and reminders
          </li>
          <li class="mb-3" style="color: #cbd5e1;">
            <i class="bi bi-check-circle" style="color: #22c55e; margin-right: 0.5rem;"></i>
            Smart summaries and study materials
          </li>
          <li class="mb-3" style="color: #cbd5e1;">
            <i class="bi bi-check-circle" style="color: #22c55e; margin-right: 0.5rem;"></i>
            Track your learning progress in real-time
          </li>
          <li style="color: #cbd5e1;">
            <i class="bi bi-check-circle" style="color: #22c55e; margin-right: 0.5rem;"></i>
            100% free, forever. No credit card needed.
          </li>
        </ul>
      </div>
      <div class="col-md-6">
        <div style="background: rgba(56, 189, 248, 0.1); border: 1px solid rgba(56, 189, 248, 0.3); border-radius: 15px; padding: 2rem; text-align: center;">
          <i class="bi bi-lightning-charge-fill" style="font-size: 3rem; color: #38bdf8; margin-bottom: 1rem; display: block;"></i>
          <h4 style="color: #38bdf8; font-weight: 700;">Join thousands of students</h4>
          <p style="color: #cbd5e1; margin-top: 1rem;">Who are already using QuickPrep to prepare smarter, not harder.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Final CTA -->
<section style="padding: 4rem 2rem; text-align: center;">
  <div class="container">
    <h2 style="color: #38bdf8; font-size: 2rem; font-weight: 700; margin-bottom: 1rem;">Ready to Transform Your Learning?</h2>
    <p style="color: #94a3b8; font-size: 1.1rem; margin-bottom: 2rem;">Get started free today. No credit card required.</p>
    <a href="{% url 'register' %}" class="btn btn-info-custom btn-lg">
      <i class="bi bi-rocket-takeoff me-2"></i> Start Free
    </a>
  </div>
</section>

{% endif %}

{% endblock content %}